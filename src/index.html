<!DOCTYPE html>
<html>

<head>
	<title>Neighborhood Map</title>
	<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1.0, user-scalable=no">
	<meta charset="UTF-8">
	<link rel="stylesheet" href="bower_components/bootstrap/dist/css/bootstrap.min.css">
	<link rel="stylesheet" href="bower_components/jasny-bootstrap/dist/css/jasny-bootstrap.min.css">
	<link rel="stylesheet" href="css/app.css">
</head>

<body>

	<!-- Mobile top bar and hamburguer icon. -->
	<div class="navbar navbar-default navbar-fixed-top hidden-md hidden-lg">
		<button class="navbar-toggle" data-toggle="offcanvas" data-target=".navmenu">
			<span class="icon-bar"></span>
			<span class="icon-bar"></span>
			<span class="icon-bar"></span>
		</button>
		<a class="navbar-brand" href="#">
			<span class="lead">Café</span><span class="small">&nbsp;(Juárez - El Paso)</span>
		</a>
	</div>

	<!-- Places list side menu and search bar. -->
	<nav class="navmenu navmenu-default navmenu-fixed-left offcanvas-sm">
			<a class="navmenu-brand visible-md visible-lg" href="#">
				<span class="lead">Café</span><span class="small">&nbsp;(Juárez - El Paso)</span>
			</a>
			<div class="form-group has-feedback">
			    <input type="text" data-bind="textInput: search" class="form-control" placeholder="Search" />
			    <i class="glyphicon glyphicon-search form-control-feedback"></i>
			</div>

			<div data-bind="if: filteredPlaces().length">
				<div class="panel panel-default">
					<div class="panel-heading">Great Places</div>

					<div class="list-group places-list" data-bind="foreach: filteredPlaces">
						<a href="#" class="list-group-item offcanvas-place" 
						   data-bind="click: $parent.selectPlaceFromList, text: name, attr: {title: name}"></a>
					</div>
				</div>
			</div>

			<div data-bind="ifnot: filteredPlaces().length">
				<p class="nofound-places">No results found.</p>
			</div>
	</nav>

	<!--  Google maps canvas container -->
	<div class="container">
		<div id="map-canvas"></div>
	</div>


	<!-- Template for infoWindow loading place -->
	<script type="text/template" data-template="place-loading">
		<div style="height: 150px; width: 150px;">
			<img style="margin: 43px 0 0 55px;" src="img/spinner.gif" />
		</div>
	</script>

	<!-- Template for infoWindow Foursquare place info -->
	<script type="text/template" data-template="place-foursquare">
		<div class="container foursquare-info-window">
			<h4 class="lead text-center">{{place.name}}</h4>

			<div class="row">
				<div class="col-md-5 text-center">
					<img class="foursquare-place-photo" src="{{place.photo}}" />
				</div>

				<div class="col-md-7">
					<p>
						<span class="text-info">
							<span class="glyphicon glyphicon-star"></span>
							&nbsp;{{place.rating}}
						</span>
						&nbsp;&nbsp;
						<span>
							<span class="glyphicon glyphicon-thumbs-up"></span>
							&nbsp;{{place.likes}}
						</span>
					</p>
					<p>{{place.address}}</p>
					<p>{{place.city}}</p>
					<p class="hidden-xs hidden-sm">{{place.tips}}</p>
				</div>

			</div>

			<p class="text-center">
				<a href="{{place.url}}" target="_blank">
					<img class="foursquare-logo" alt="Foursquare link" 
						src="https://ss0.4sqi.net/img/poweredByFoursquare/
							poweredby-one-color-cdf070cc7ae72b3f482cf2d075a74c8c.png" />
				</a>
			</p>

		</div>
	</script>


	<script src="bower_components/jquery/dist/jquery.min.js"></script>
	<script src="bower_components/bootstrap/dist/js/bootstrap.min.js"></script>
	<script src="bower_components/jasny-bootstrap/dist/js/jasny-bootstrap.min.js"></script>
	<script src="https://maps.googleapis.com/maps/api/js"></script>
	<script src="bower_components/knockout/dist/knockout.js"></script>
	<script src="model/Place.js"></script>
	<script src="viewModel/FoursquareViewModel.js"></script>
	<script src="viewModel/MapViewModel.js"></script>
	<script src="viewModel/AppViewModel.js"></script>
</body>
</html>